<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>User Profile</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">
  <div class="container py-5">
    <div class="row justify-content-center">
      <div class="col-lg-8 text-center">
        <div>
          <h6><a href="/">Home</a><br></h6>
        </div>
        <div class="pb-2">
            <h2 class="text-center">Select Persona's</h2>
        </div>
        {% for pn in context.personas %}
            <a href="http://127.0.0.1:5000/chat/{{pn.id}}">
                <div class="pb-3">
                    <div class="card">
                        <div class="card-body">
                        <img src="{{pn.photo_url}}" alt="Profile Picture" class="rounded-circle img-thumbnail mb-3" style="width: 150px; height: 150px;">
                        <h2 class="card-title">{{ pn.name }}</h2>
                        <p class="text-muted">{{ pn.title }}</p>
                        </div>
                    </div>
                </div>
            </a>
        {% endfor %}
      </div>
    </div>
  </div>

  <!-- Bootstrap Icons and JavaScript -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

<script>
  function getCookie(name) {
    var nameEQ = name + "=";
    var ca = document.cookie.split(';');
    for(var i=0;i < ca.length;i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1,c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
    }
    return null;
}

if (getCookie("token") == null){
    window.location = "/";
  }

</script>

</html>
